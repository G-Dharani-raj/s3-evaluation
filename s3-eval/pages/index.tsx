import Head from 'next/head'
import { Inter } from '@next/font/google'
import Details from '../components/details/Details'
import axios from 'axios'
import Repos, { props } from '../components/repos/Repos'
import {Flex, Center} from '@chakra-ui/react'

const inter = Inter({ subsets: ['latin'] })

export default function Home({repos} : props) {
 
  
  return (
  <>
      <Head>
        <title>Dharani Raj Portfolio</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
    <Center>
      <Flex gap={5}>
      <Details />
      <Repos repos={repos} />
      </Flex>
      
    </Center>
  </>
  )
}


export async function getStaticProps ()  {
  let res = await axios.get("https://api.github.com/search/repositories?q=user:g-dharani-raj+fork:true&sort=updated&per_page=10&type=Repositories");
  let items = res.data.items
  return {
      props: {
          repos: items
      }
  }
}

